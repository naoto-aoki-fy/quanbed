#pragma once

#define CONCATENATE_AUX(x, y) x##y
#define CONCATENATE(x, y)     CONCATENATE_AUX(x, y)

#define INDEX_RSEQ() \
    32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, \
    16, 15, 14, 13, 12, 11, 10,  9,  8,  7,  6,  5,  4,  3,  2,  1, 0
#define VA_ARGS_SIZE_IMPL(\
        ARG1,  ARG2,  ARG3,  ARG4,  ARG5,  ARG6,  ARG7,  ARG8,  ARG9,  ARG10, \
        ARG11, ARG12, ARG13, ARG14, ARG15, ARG16, ARG17, ARG18, ARG19, ARG20, \
        ARG21, ARG22, ARG23, ARG24, ARG25, ARG26, ARG27, ARG28, ARG29, ARG30, \
        ARG31, ARG32, N, ...) N
#define VA_ARGS_SIZE_AUX(...) VA_ARGS_SIZE_IMPL(__VA_ARGS__)
#define VA_ARGS_SIZE(...)     VA_ARGS_SIZE_AUX(__VA_ARGS__, INDEX_RSEQ())

#define REORDER(...) \
    CONCATENATE(REORDER_AUX_, VA_ARGS_SIZE(__VA_ARGS__))(__VA_ARGS__)

#define REORDER_AUX_1(ARG1) ARG1
#define REORDER_AUX_2(ARG1, ARG2) ARG1, ARG2
#define REORDER_AUX_3(ARG1, ARG2, ARG3) ARG1 ARG3, ARG2
#define REORDER_AUX_4(ARG1, ARG2, ARG3, ARG4) ARG1 ARG3, ARG2, ARG4
#define REORDER_AUX_5(ARG1, ARG2, ARG3, ARG4, ARG5) ARG1 ARG3 ARG5, ARG2, ARG4
#define REORDER_AUX_6(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6) ARG1 ARG3 ARG5, ARG2, ARG4, ARG6
#define REORDER_AUX_7(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7) ARG1 ARG3 ARG5 ARG7, ARG2, ARG4, ARG6
#define REORDER_AUX_8(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8) ARG1 ARG3 ARG5 ARG7, ARG2, ARG4, ARG6, ARG8
#define REORDER_AUX_9(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9) ARG1 ARG3 ARG5 ARG7 ARG9, ARG2, ARG4, ARG6, ARG8
#define REORDER_AUX_10(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10) ARG1 ARG3 ARG5 ARG7 ARG9, ARG2, ARG4, ARG6, ARG8, ARG10
#define REORDER_AUX_11(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10, ARG11) ARG1 ARG3 ARG5 ARG7 ARG9 ARG11, ARG2, ARG4, ARG6, ARG8, ARG10
#define REORDER_AUX_12(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10, ARG11, ARG12) ARG1 ARG3 ARG5 ARG7 ARG9 ARG11, ARG2, ARG4, ARG6, ARG8, ARG10, ARG12
#define REORDER_AUX_13(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10, ARG11, ARG12, ARG13) ARG1 ARG3 ARG5 ARG7 ARG9 ARG11 ARG13, ARG2, ARG4, ARG6, ARG8, ARG10, ARG12
#define REORDER_AUX_14(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10, ARG11, ARG12, ARG13, ARG14) ARG1 ARG3 ARG5 ARG7 ARG9 ARG11 ARG13, ARG2, ARG4, ARG6, ARG8, ARG10, ARG12, ARG14
#define REORDER_AUX_15(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10, ARG11, ARG12, ARG13, ARG14, ARG15) ARG1 ARG3 ARG5 ARG7 ARG9 ARG11 ARG13 ARG15, ARG2, ARG4, ARG6, ARG8, ARG10, ARG12, ARG14
#define REORDER_AUX_16(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10, ARG11, ARG12, ARG13, ARG14, ARG15, ARG16) ARG1 ARG3 ARG5 ARG7 ARG9 ARG11 ARG13 ARG15, ARG2, ARG4, ARG6, ARG8, ARG10, ARG12, ARG14, ARG16
#define REORDER_AUX_17(ARG1, ARG2, ARG3, ARG4, ARG5, ARG6, ARG7, ARG8, ARG9, ARG10, ARG11, ARG12, ARG13, ARG14, ARG15, ARG16, ARG17) ARG1 ARG3 ARG5 ARG7 ARG9 ARG11 ARG13 ARG15 ARG17, ARG2, ARG4, ARG6, ARG8, ARG10, ARG12, ARG14, ARG16